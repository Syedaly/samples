Amazon S3 Glacier Object Lock
Amazon S3 Glacier Object Lock is a feature that helps prevent accidental deletion and ensures that data remains immutable for a defined period. It is commonly used for regulatory compliance and Write Once, Read Many (WORM) storage models.

Two Modes of Glacier Object Lock
Governance Mode

Protects objects from deletion or modification by most users.
Only users with special IAM permissions (s3:BypassGovernanceRetention) can override or remove the lock.
Compliance Mode

Strictest protectionâ€”once locked, the object CANNOT be deleted or modified by anyone, including the root user.
The lock cannot be bypassed or removed until the retention period expires.
Example: Use Case for Retention and Preventing Accidental Deletion
ðŸ”¹ Scenario:
A company stores financial records that must be retained for 7 years as per regulations. They want to ensure the data cannot be deleted or modified during this period.

S3 Glacier Object Lock Configuration (Example Rule in JSON)
json
Copy
Edit
{
    "Rules": [
        {
            "ID": "FinancialRecordsRetention",
            "Filter": {
                "Prefix": "financial-records/"
            },
            "Status": "Enabled",
            "Transitions": [
                {
                    "Days": 90,
                    "StorageClass": "GLACIER_IR"
                },
                {
                    "Days": 365,
                    "StorageClass": "GLACIER_DEEP_ARCHIVE"
                }
            ],
            "NoncurrentVersionTransitions": [
                {
                    "NoncurrentDays": 30,
                    "StorageClass": "GLACIER_IR"
                }
            ],
            "AbortIncompleteMultipartUpload": {
                "DaysAfterInitiation": 7
            },
            "ObjectLockConfiguration": {
                "ObjectLockEnabled": "Enabled",
                "Rule": {
                    "DefaultRetention": {
                        "Mode": "Compliance",
                        "Days": 2555  // 7 years retention
                    }
                }
            }
        }
    ]
}
Breakdown of the Rule:
Applies to objects under the prefix "financial-records/".
After 90 days, moves objects to Glacier Instant Retrieval (GLACIER_IR).
After 1 year (365 days), moves objects to Glacier Deep Archive.
Retains objects for 7 years (2555 days) in Compliance mode, ensuring:
Data cannot be modified or deleted until the retention period expires.
Deletes incomplete multipart uploads after 7 days to save storage costs.
